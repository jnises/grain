- [x] Remove hard to implement features of `ALGORITHM_DESIGN.md` such as parallax.
- [x] Check to make sure the `Compositing Multiple Grain Layers` section of `ALGORITHM_DESIGN.md` makes sense.
- [ ] Remove the legacy algorithm
- [ ] Optimize or simplify the `multiple grain layers` feature. It is currently very slow.
- [ ] Go through `ALGORITHM_DESIGN.md` and compare against the current implementation. Describe what has been implemented and what hasn't any why.
- [ ] Add slider to control how large the grains are relative to the image, as if to simulate adjusting the enlargement factor of the image in a darkroom. (Or will this have the same effect as adjusting the iso?)
- [ ] Add tests that applies the entire algorithm to some test patterns and make sure the result makes sense.
- [ ] Add instruction for agent to assert any assumption it makes.
- [ ] Go through the code and make sure assertions are added where it makes sense.
- [ ] Optimize the algorithm
- [ ] Is it possible to parallelize the algorithm? Or move parts of it to the gpu using webgpu?

